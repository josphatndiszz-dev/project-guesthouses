<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Project Guesthouses</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; scroll-behavior:smooth; }
body { font-family: Arial, sans-serif; color:#333; line-height:1.6; }
a { text-decoration:none; color:inherit; }
.container { width:90%; max-width:1200px; margin:auto; padding:50px 0; }

/* Navigation */
nav { position:fixed; top:0; width:100%; background: rgba(255,255,255,0.95); box-shadow:0 2px 5px rgba(0,0,0,0.1); z-index:1000; }
nav ul { display:flex; justify-content:center; list-style:none; gap:30px; padding:15px 0; }
nav ul li a { font-weight:bold; transition:.3s; }
nav ul li a:hover { color:#28a745; }

/* Hero */
header { height:100vh; background:url('https://source.unsplash.com/1600x900/?guesthouse,hotel') no-repeat center center/cover; display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center; color:white; position:relative; }
header::after { content:''; position:absolute; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.4); }
header h1, header p, header .btn { position:relative; }
header h1 { font-size:3rem; margin-bottom:10px; }
header p { font-size:1.5rem; margin-bottom:20px; }
.btn { padding:10px 25px; background:#28a745; color:white; border:none; border-radius:5px; cursor:pointer; transition:.3s; }
.btn:hover { background:#218838; }

/* Sections */
section { opacity:0; transform:translateY(20px); transition:all 0.8s ease; padding-top:80px; }
section.visible { opacity:1; transform:translateY(0); }
h2 { text-align:center; margin-bottom:40px; font-size:2rem; }
.rooms { display:flex; flex-wrap:wrap; gap:20px; justify-content:center; }
.room { background:#f7f7f7; border-radius:10px; overflow:hidden; width:300px; flex:1 1 250px; display:flex; flex-direction:column; transition:transform .3s; }
.room.disabled { opacity:.5; pointer-events:none; }
.room:hover { transform:scale(1.05); }
.room img { width:100%; height:200px; object-fit:cover; }
.room-content { padding:20px; flex:1; display:flex; flex-direction:column; justify-content:space-between; }
.room-content h3 { margin-bottom:10px; }
.room-content p { margin-bottom:15px; }
.amenities { display:flex; flex-wrap:wrap; justify-content:center; gap:30px; }
.amenity { display:flex; flex-direction:column; align-items:center; width:150px; text-align:center; transition:transform .3s; }
.amenity:hover { transform:translateY(-5px); }
.amenity img { width:50px; height:50px; margin-bottom:10px; }
.testimonials { display:flex; flex-direction:column; gap:20px; max-width:800px; margin:auto; }
.testimonial { background:#f7f7f7; padding:20px; border-radius:10px; text-align:center; font-style:italic; }
form { max-width:600px; margin:auto; display:flex; flex-direction:column; gap:15px; }
input, textarea, select { padding:10px; border-radius:5px; border:1px solid #ccc; width:100%; }
footer { background:#333; color:white; text-align:center; padding:20px; margin-top:50px; }
@media (max-width:768px) { header h1{ font-size:2.2rem;} header p{font-size:1.2rem;} nav ul{gap:15px;} }
@media (max-width:500px) { .rooms{flex-direction:column;align-items:center;} .amenities{flex-direction:column;align-items:center;} }
</style>
</head>
<body>

<nav>
<ul>
<li><a href="#home">Home</a></li>
<li><a href="#about">About</a></li>
<li><a href="#rooms-section">Rooms</a></li>
<li><a href="#amenities-section">Amenities</a></li>
<li><a href="#testimonials-section">Testimonials</a></li>
<li><a href="#booking-section">Booking</a></li>
</ul>
</nav>

<header id="home">
<h1>Project Guesthouses</h1>
<p>Comfortable stays, unforgettable experiences</p>
<button class="btn" onclick="document.getElementById('booking-section').scrollIntoView({behavior:'smooth'})">Book Now</button>
</header>

<section id="about" class="container">
<h2>About Us</h2>
<p>Project Guesthouses offers a cozy and modern place to stay, perfect for travelers seeking comfort and convenience. Experience personalized service and a home-away-from-home atmosphere in every guesthouse.</p>
</section>

<section id="rooms-section" class="container">
<h2>Our Guest Houses</h2>
<div class="rooms" id="roomList"></div>
</section>

<section id="amenities-section" class="container">
<h2>Our Amenities</h2>
<div class="amenities">
<div class="amenity"><img src="https://img.icons8.com/ios-filled/50/000000/wifi.png"><p>Free Wi-Fi</p></div>
<div class="amenity"><img src="https://img.icons8.com/ios-filled/50/000000/breakfast.png"><p>Complimentary Breakfast</p></div>
<div class="amenity"><img src="https://img.icons8.com/ios-filled/50/000000/parking.png"><p>Parking Available</p></div>
<div class="amenity"><img src="https://img.icons8.com/ios-filled/50/000000/air-conditioning.png"><p>Air Conditioning</p></div>
</div>
</section>

<section id="testimonials-section" class="container">
<h2>Testimonials</h2>
<div class="testimonials">
<div class="testimonial">"Amazing stay! Cozy rooms and excellent service. Highly recommended." - Sarah K.</div>
<div class="testimonial">"Perfect location and very clean rooms. I felt right at home." - David M.</div>
<div class="testimonial">"Friendly staff and beautiful guesthouse. Will visit again!" - Emily R.</div>
</div>
</section>

<section id="booking-section" class="container">
<h2>Booking & Payment</h2>
<form id="bookingForm">
<input type="text" id="name" placeholder="Your Name" required>
<input type="email" id="email" placeholder="Your Email" required>
<label>Check-in Date:</label>
<input type="date" id="checkin" required onchange="updateAvailability()">
<label>Check-out Date:</label>
<input type="date" id="checkout" required onchange="updateAvailability()">
<label>Select Room:</label>
<select id="selectedRoom" required>
<option value="">Select Room</option>
</select>
<label>Payment Method:</label>
<select id="payment" required>
<option value="">Select Payment</option>
<option value="MPesa">M-Pesa</option>
<option value="MPesaGlobal">M-Pesa Global</option>
<option value="PayPal">PayPal</option>
</select>
<textarea id="message" rows="5" placeholder="Additional Message"></textarea>
<button class="btn" type="submit">Book & Pay</button>
</form>
<div id="map" style="width:100%;height:300px;margin-top:40px;"></div>
</section>

<footer>&copy; 2026 Project Guesthouses. All rights reserved.</footer>

<script>
// Rooms
const rooms = [
{ id: 1, name: 'Cozy Room' },
{ id: 2, name: 'Family Suite' },
{ id: 3, name: 'Deluxe Suite' }
];

// Populate rooms section
function populateRooms() {
  const roomList = document.getElementById('roomList');
  roomList.innerHTML = '';
  rooms.forEach(room=>{
    const div = document.createElement('div');
    div.className='room';
    div.id='room-'+room.id;
    div.innerHTML=`<img src='https://source.unsplash.com/30${room.id}x200/?room,bed'><div class='room-content'><h3>${room.name}</h3><p>Comfortable and cozy guest room.</p></div>`;
    roomList.appendChild(div);
  });
}

// Fetch availability from backend
async function updateAvailability(){
  const checkin=document.getElementById('checkin').value;
  const checkout=document.getElementById('checkout').value;
  if(!checkin||!checkout) return;
  const select=document.getElementById('selectedRoom');
  select.innerHTML='<option value="">Select Room</option>';
  try{
    const response=await fetch('https://YOUR_BACKEND_URL/bookings'); // replace with your backend URL
    const bookedData=await response.json();
    rooms.forEach(room=>{
      let available=true;
      bookedData.forEach(b=>{
        if(b.roomId===room.id){
          if(!(checkout<=b.checkin || checkin>=b.checkout)) available=false;
        }
      });
      const roomDiv=document.getElementById('room-'+room.id);
      if(available){
        roomDiv.classList.remove('disabled');
        const opt=document.createElement('option'); opt.value=room.id; opt.textContent=room.name;
        select.appendChild(opt);
      }else{
        roomDiv.classList.add('disabled');
      }
    });
  }catch(err){console.error(err);}
}

// Submit booking
document.getElementById('bookingForm').addEventListener('submit', async function(e){
  e.preventDefault();
  const data={
    name:document.getElementById('name').value,
    email:document.getElementById('email').value,
    roomId:Number(document.getElementById('selectedRoom').value),
    checkin:document.getElementById('checkin').value,
    checkout:document.getElementById('checkout').value,
    paymentMethod:document.getElementById('payment').value,
    message:document.getElementById('message').value
  };
  const res=await fetch('https://YOUR_BACKEND_URL/book',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)}); // replace with your backend URL
  const result=await res.json();
  if(result.success){
    alert('Booking successful! '+result.payment.message);
    if(result.payment.approvalUrl) window.open(result.payment.approvalUrl,'_blank');
    populateRooms();
  }else{ alert(result.message); }
});

// Animate sections
const sections=document.querySelectorAll('section');
const observer=new IntersectionObserver(entries=>{entries.forEach(e=>{if(e.isIntersecting) e.target.classList.add('visible');});},{threshold:0.1});
sections.forEach(s=>observer.observe(s));

// Map
function initMap(){
  const location={lat:-0.4165,lng:36.9518}; // HX96+2JF Nyeri
  const map=new google.maps.Map(document.getElementById('map'),{zoom:15,center:location});
  new google.maps.Marker({position:location,map:map,title:'Project Guesthouses'});
}

populateRooms();
</script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY&callback=initMap"></script>
</body>
</html>
